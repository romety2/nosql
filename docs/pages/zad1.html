<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="generator" content="pandoc"/>
  <title>Technologie NoSQL</title>
  <link rel="stylesheet" href="../style/style.css">
</head>
<body>
	<div class = "return">
		<a href="../index.html">powrót</a>
	</div>
	<div class = "description">
		<h1 class="text-center">Zadanie 1</h1>
		</br>
		<h2>Informacje o danych</h2>	
		<p class="description-data">
			Dane zawierają najnowsze (luty 2017 r.) dane z katalogu pocztowego służb zdrowia w Wielkiej Brytanii.
			<a href="https://data.gov.uk/dataset/nhs-postcode-directory-latest-centroids" target="_blank">Źródło</a>.
			</br>
			Rozmiar: 2 GB
			</br>
			Ilość: 2593752
		</p>
		</br>
		<h2>Instalacja i konfiguracja oprogramowania</h2>
		<h3>postgreSQL</h3>
		<p>
			Do rozwiązania zadania użyto bazy postgreSQL. Należy ją pobrać ze 
			<a href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads" target="_blank">strony</a>
			i zainstalować. Podczas instalacji możliwe, że będziemy musieli podać hasło do domyślnego użytkownika <i>postgres</i>.
		</p>
		<h3>jdk</h3>
		<p>
			Aby uruchomić bazę elasticsearch potrzebny jest najnowyszy jdk, który jest możliwy do sciągniećia ze
			<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">strony</a> i zainstalować.
			</br></br>
			Upewnijmy się czy zmienne środowiskowe są odpowiednio skonfigurowane.
			</br>
			<div class="text-center">
				<i>Panel sterowania -> System -> Zmień ustawienia -> Zaawansowane (zakładka) -> Zmienne środowiskowe...</i>
			</div>
			</br>
			W <i>zmienne systemowe</i> szukamy zmiennej <i>JAVA_HOME</i> oraz sprawdzamy czy ścieżka
			jest ustawiona na zainstalowany przez z nas <i>jdk</i>.
			</br>
			Jeśli nie, zaznaczamy zmienną, klikamy <i>Edytuj...</i> oraz zmieniamy ścieżkę i ponownie uruchamiamy komputer.
		</p>
		</br>
		<h2>Import danych</h2>	
		<h3>Import danych do postreSQL</h3>
		<p>
			Pobieramy ze <a href="https://github.com/lukasmartinelli/pgfutter/releases/tag/v1.1" target="_blank">strony</a> pgfutter,
			oraz zmieniamy nazwę pobranego pliku na <i>pgfutter.exe</i>.
			</br>
			Następnie importujemy dane do postreSQL'a (plik z danymi oraz pgfutter muszą znajdować się w tym samym katalogu), polecenie:
			<div class="command">
				<code>
pgfutter --pass "[hasło]" --table "test" csv NHS_Postcode_Directory_Latest_Centroids.csv
				</code>
			</div>
			</br>
			Import danych średnio zużywał zasoby komputera.
			</br></br>
			<div class="text-center">
				<img src="../images/screen7.PNG" height="400em" width="500em">
			</div>
			<div class="description-image">Procesor podczas importu danych do postreSQL</div>
			</br></br>
			<div class="text-center">
				<img src="../images/screen8.PNG" height="400em" width="500em">
			</div>
			<div class="description-image">Pamięć podczas importu danych do postreSQL</div>
			</br></br>
			<div class="text-center">
				<img src="../images/screen9.PNG" height="400em" width="500em">
			</div>
			<div class="description-image">Dysk podczas importu danych do postreSQL</div>
			</br></br>
			Wykonanie trwało ok. 2 minut, 35 sekund.
			</br>
			Ostatecznie pojawił się komunikat: "2593752 rows imported into import.test"
			<div class="text-center">
				<img src="../images/screen13.PNG" height="30em" width="1200em">
			</div>
			Czyli dane zostały zaimportowane to tabeli test w schemacie import, czyli import.test.
		</p>
	</div>
	</br>
	<div class = "return">
		<a href="../index.html">powrót</a>
	</div>
</body>